{"version":3,"sources":["script.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.js","sourcesContent":["$(function(){\r\n\tDoctor.init();\r\n\tCalendar.init();\r\n});\r\n\r\n\r\nCalendar = {\r\n\tnow: new Date(),\r\n\tselectedDate: '0000-00-00',\r\n\t\r\n\tinit: function() {\r\n\t\tvar $this = this;\r\n\t\t\r\n\t\t$(\"#calendar\").calendarWidget();\r\n\t\t\r\n\t\tthis.selectDay();\r\n\t},\r\n\t\r\n\t//Следующий месяц\r\n\tnextMonth: function() {\r\n\t\tvar $this = this;\r\n\t\t\r\n\t\t$this.now = new Date($this.now.getYear()+1900, $this.now.getMonth()+1, $this.now.getDate());\r\n\t\t\r\n\t\t$(\"#calendar\").fadeOut(200, function(){\r\n\t\t\t$(\"#calendar\").html('');\r\n\t\t\t\r\n\t\t\t$(\"#calendar\").calendarWidget({\r\n\t\t\t\tmonth: $this.now.getMonth(),\r\n\t\t\t\tyear: $this.now.getYear()+1900\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t$(\"#calendar\").fadeIn(200);\r\n\t\t});\r\n\t},\r\n\t\r\n\t//Предыдущий месяц\r\n\tprevMonth: function() {\r\n\t\tvar $this = this;\r\n\t\t\r\n\t\t//Запрет выбора предыдущего месяца\r\n\t\tvar now = new Date();\r\n\t\tif (now.getYear() == $this.now.getYear() && now.getMonth() == $this.now.getMonth())\r\n\t\t\treturn false;\r\n\t\t\r\n\t\t$this.now = new Date($this.now.getYear()+1900, $this.now.getMonth()-1, $this.now.getDate());\r\n\t\t\r\n\t\t$(\"#calendar\").fadeOut(200, function(){\r\n\t\t\t$(\"#calendar\").html('');\r\n\t\t\t\r\n\t\t\t$(\"#calendar\").calendarWidget({\r\n\t\t\t\tmonth: $this.now.getMonth(),\r\n\t\t\t\tyear: $this.now.getYear()+1900\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t$(\"#calendar\").fadeIn(200);\r\n\t\t});\r\n\t},\r\n\t\r\n\t//Выбор дня\r\n\tselectDay: function(){\r\n\t\tvar $this = this;\r\n\t\t\r\n\t\t$(\"body\").on(\"click\", \"#calendar td:not(.old-day)\", function(){\r\n\t\t\t$(\"#calendar td\").removeClass('bg-success');\r\n\t\t\t$(this).addClass('bg-success');\r\n\t\t\t\r\n\t\t\t$this.selectedDate = $(this).data('date');\r\n\t\t\t\r\n\t\t\tRecord.getTime(Doctor.selectedId, $this.selectedDate);\r\n\t\t});\r\n\t},\r\n}\r\n\r\n\r\nDoctor = {\r\n\tselectedId: 0,\r\n\t\r\n\tinit: function(){\r\n\t\tthis.selectDoctor();\r\n\t},\r\n\t\r\n\t//Выбор врача\r\n\tselectDoctor: function(){\r\n\t\tvar $this = this;\r\n\t\t\r\n\t\t$(\".table-doctors tr\").click(function(){\r\n\t\t\t$(\".table-doctors tr\").removeClass('bg-success');\r\n\t\t\t$(this).addClass('bg-success');\r\n\t\t\t\r\n\t\t\t$this.selectedId = $(this).data('id');\r\n\t\t\t\r\n\t\t\tRecord.getTime($this.selectedId, Calendar.selectedDate);\r\n\t\t});\r\n\t},\r\n}\r\n\r\n\r\nRecord = {\r\n\t//Получение времени на запись\r\n\tgetTime: function(id, date){\r\n\t\tif (id > 0 && date != '0000-00-00')\r\n\t\t{\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: '/list/' + id + '/' + date,\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tsuccess: function(response){\r\n\t\t\t\t\t$(\"#records\").fadeOut(200, function(){\r\n\t\t\t\t\t\t$(\"#records\").html(response).fadeIn(200);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n}"]}
{"version":3,"sources":["jquery.calendar-widget.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"jquery-plugins.js","sourcesContent":["(function($) { \n   \n\tfunction calendarWidget(el, params) { \n\t\t\n\t\tvar now   = new Date();\n\t\tvar thismonth = now.getMonth();\n\t\tvar thisyear  = now.getYear() + 1900;\n\t\tvar thisday  = now.getDate();\n\t\t\n\t\tvar opts = {\n\t\t\tmonth: thismonth,\n\t\t\tyear: thisyear\n\t\t};\n\t\t\n\t\t$.extend(opts, params);\n\t\t\n\t\tvar monthNames = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];\n\t\tvar dayNames = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'];\n\t\tmonth = i = parseInt(opts.month);\n\t\tyear = parseInt(opts.year);\n\t\t\n\t\tvar m = 0;\n\t\tvar table = '';\n\t\t\n\t\t\t// next month\n\t\t\tif (month == 11) {\n\t\t\t\tvar next_month = '<a href=\"?month=' + 1 + '&amp;year=' + (year + 1) + '\" title=\"' + monthNames[0] + ' ' + (year + 1) + '\">' + monthNames[0] + ' ' + (year + 1) + '</a>';\n\t\t\t} else {\n\t\t\t\tvar next_month = '<a href=\"?month=' + (month + 2) + '&amp;year=' + (year) + '\" title=\"' + monthNames[month + 1] + ' ' + (year) + '\">' + monthNames[month + 1] + ' ' + (year) + '</a>';\n\t\t\t}\n\t\t\t\t\n\t\t\t// previous month\n\t\t\tif (month == 0) {\n\t\t\t\tvar prev_month = '<a href=\"?month=' + 12 + '&amp;year=' + (year - 1) + '\" title=\"' + monthNames[11] + ' ' + (year - 1) + '\">' + monthNames[11] + ' ' + (year - 1) + '</a>';\n\t\t\t} else {\n\t\t\t\tvar prev_month = '<a href=\"?month=' + (month) + '&amp;year=' + (year) + '\" title=\"' + monthNames[month - 1] + ' ' + (year) + '\">' + monthNames[month - 1] + ' ' + (year) + '</a>';\n\t\t\t}\t\t\n\t\t\t\t\n\t\t\ttable += ('<h3 id=\"current-month\">'+monthNames[month]+' '+year+'</h3>');\n\t\t\t// uncomment the following lines if you'd like to display calendar month based on 'month' and 'view' paramaters from the URL\n\t\t\t//table += ('<div class=\"nav-prev\">'+ prev_month +'</div>');\n\t\t\t//table += ('<div class=\"nav-next\">'+ next_month +'</div>');\n\t\t\ttable += ('<table class=\"table table-bordered \" ' +'id=\"table-calendar\" cellspacing=\"0\">');\t\n\t\t\n\t\t\ttable += '<tr>';\n\t\t\t\n\t\t\tfor (d=0; d<7; d++) {\n\t\t\t\ttable += '<th class=\"weekday\">' + dayNames[d] + '</th>';\n\t\t\t}\n\t\t\t\n\t\t\ttable += '</tr>';\n\t\t\n\t\t\tvar days = getDaysInMonth(month,year);\n            var firstDayDate=new Date(year,month,0);\n            var firstDay=firstDayDate.getDay();\n\t\t\t\n\t\t\tvar prev_days = getDaysInMonth(month,year);\n            var firstDayDate=new Date(year,month,0);\n            var firstDay=firstDayDate.getDay();\n\t\t\t\n\t\t\tvar prev_m = month == 0 ? 11 : month-1;\n\t\t\tvar prev_y = prev_m == 11 ? year - 1 : year;\n\t\t\tvar prev_days = getDaysInMonth(prev_m, prev_y);\n\t\t\tfirstDay = (firstDay == 0 && firstDayDate) ? 7 : firstDay;\n\t\n\t\t\tvar i = 0;\n            for (j=0;j<42;j++){\n\t\t      if (year == thisyear && month == thismonth)\n\t\t\t    var oldDay = (j-firstDay+1) - thisday < 0 ? 'old-day' : '';\n\t\t\t  \n\t\t\t  var strDate = year + '-' + month + '-' + (j-firstDay+1);\n\t\t\t  \n              if ((j<firstDay)){\n                table += ('<td data-date=\"'+strDate+'\" class=\"other-month '+oldDay+'\"><span class=\"day\">'+ (prev_days-firstDay+j+1) +'</span></td>');\n\t\t\t  } else if ((j>=firstDay+getDaysInMonth(month,year))) {\n\t\t\t\ti = i+1;\n                table += ('<td data-date=\"'+strDate+'\" class=\"other-month '+oldDay+'\"><span class=\"day\">'+ i +'</span></td>');\n              }else{\n                table += ('<td data-date=\"'+strDate+'\" class=\"current-month '+oldDay+' day'+(j-firstDay+1)+'\"><span class=\"day\">'+(j-firstDay+1)+'</span></td>');\n              }\n              if (j%7==6)  table += ('</tr>');\n            }\n\n            table += ('</table>');\n\n\t\tel.html(table);\n\t}\n\t\n\tfunction getDaysInMonth(month,year)  {\n\t\tvar daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];\n\t\tif ((month==1)&&(year%4==0)&&((year%100!=0)||(year%400==0))){\n\t\t  return 29;\n\t\t}else{\n\t\t  return daysInMonth[month];\n\t\t}\n\t}\n\t\n\t\n\t// jQuery plugin initialisation\n\t$.fn.calendarWidget = function(params) {    \n\t\tcalendarWidget(this, params);\t\t\n\t\treturn this; \n\t}; \n\n})(jQuery);\n"]}